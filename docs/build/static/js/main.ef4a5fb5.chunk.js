(this.webpackJsonpexample=this.webpackJsonpexample||[]).push([[0],{22:function(e,n,r){},23:function(e,n,r){},25:function(e,n,r){},34:function(e,n,r){},35:function(e,n,r){"use strict";r.r(n);var t=r(0),i=r(14),o=r.n(i),a=(r(22),r(10)),l=r(2),c=r(4),u=function(){return(u=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++)for(var i in n=arguments[r])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e}).apply(this,arguments)},d=function(e,n,r){return void 0===e&&(e=""),void 0===n&&(n=""),void 0===r&&(r=!1),"checkbox"===e?null!==r&&void 0!==r&&r:null!==n&&void 0!==n?n:""},s={radio:function(e,n,r,t){var i;return{radioOptions:null===(i=null===e||void 0===e?void 0:e.options)||void 0===i?void 0:i.map((function(i){return u({type:"radio",key:i.option,checked:e.value===i.option,value:i.option,name:n,onChange:r},t)}))}},checkbox:function(e,n,r,t){return{fieldProps:u({checked:e.checked,required:e.required,type:"checkbox",onChange:r,name:(null===e||void 0===e?void 0:e.name)||n},t)}}},f=function(e){var n=e.fields,r=e.onChange,t=e.toValid,i=e.setValue,o=e.setError;return Object.keys(n).reduce((function(e,a){var l,c,f,v,m,j;return u(u({},e),((l={})[a]=u({value:d(null===(c=n[a])||void 0===c?void 0:c.type,n[a].value,null===(f=n[a])||void 0===f?void 0:f.checked),error:null!==(m=null===(v=n[a])||void 0===v?void 0:v.error)&&void 0!==m?m:null,toValid:function(){return t(a)},setValue:i(a),setError:o(a)},function(e){var n=e.type,r=void 0===n?"":n,t=e.field,i=e.name,o=e.onChange,a=e.fieldProps;return s[r]?s[r](t,i,o,a):{fieldProps:u({value:d(r,t.value),required:t.required,name:(null===t||void 0===t?void 0:t.name)||i,onChange:o,type:r},a)}}({type:null===(j=n[a])||void 0===j?void 0:j.type,field:n[a],name:a,onChange:r(a),fieldProps:n[a].fieldProps})),l))}),{})},v=function(e,n,r,t,i){if(void 0===n&&(n=[]),r&&!e)return"required";if(t&&t>(null===e||void 0===e?void 0:e.length))return"min length "+t;if(i&&i<(null===e||void 0===e?void 0:e.length))return"max length "+i;for(var o=0,a=n;o<a.length;o++){var l=a[o],c="function"===typeof l?l(e):null;if(c)return c}return null};function m(e,n){var r,t,i,o;return u(u({},e),((r={})[n.name]=u(u({},e[n.name]),{value:null!==(t=n.value)&&void 0!==t?t:"",checked:null!==(i=n.checked)&&void 0!==i&&i,error:null!==(o=n.error)&&void 0!==o?o:null}),r))}var j=function(e){void 0===e&&(e={});var n=Object(t.useReducer)(m,e),r=n[0],i=n[1],o=Object(t.useCallback)((function(e){return function(n){var t=n.target,o=t.checked,a=t.value,l=r[e],c=l.validations,u=l.required,s=void 0!==u&&u,f=l.immediatelyValidate,m=void 0===f||f,j=l.type,b=l.minLen,p=l.maxLen,h=m?v(a,c,s,b,p):null;i({error:h,name:e,checked:o,value:d(j,a,o)})}}),[r]),a=function(e){return function(n){i({error:n,name:e})}},l=function(e){return function(n){var t=r[e],o=t.validations,a=t.required,l=void 0!==a&&a,c=t.immediatelyValidate,u=void 0===c||c,s=t.type,f=t.minLen,m=t.value,j=t.maxLen,b="function"===typeof n?n({prevValue:m}):n,p=u?v(b,o,l,f,j):null;i({error:p,name:e,value:d(s,b)})}},c=function(e){var n=r[e],t=n.value,o=n.validations,a=n.required,l=void 0!==a&&a,c=n.checked,u=void 0!==c&&c,d=n.minLen,s=n.maxLen,f=v(t,o,l,d,s);return i({error:f,name:e,value:t,checked:u}),f};return{form:{fields:Object(t.useMemo)((function(){return f({fields:r,onChange:o,toValid:c,setValue:l,setError:a})}),[r,o]),toJSON:function(){return function(e){return Object.keys(e).reduce((function(n,r){var t;return u(u({},n),((t={})[r]=d(e[r].type,e[r].value,e[r].checked),t))}),{})}(r)},toValidate:function(){return Object.keys(r).map((function(e){return!!c(e)})).every((function(e){return!e}))}}}},b=(r(23),r(1)),p=function(e){var n=e.type,r=void 0===n?"text":n,t=e.label,i=e.error,o=e.value,a=void 0===o?"":o,l=e.onChange;return Object(b.jsxs)("div",{className:"Input",children:[Object(b.jsx)("input",{placeholder:" ",type:r,value:a,onChange:l}),Object(b.jsx)("span",{className:"highlight"}),Object(b.jsx)("div",{className:"Input_error",children:i}),Object(b.jsx)("label",{children:t}),Object(b.jsx)("span",{className:"bar"})]})},h=r(17),O=(r(25),["children","type"]),x=function(e){var n=e.children,r=e.type,t=Object(h.a)(e,O);return Object(b.jsx)("button",Object(c.a)(Object(c.a)({type:r,className:"Button"},t),{},{children:n}))},y=function(){var e=j({name:{required:!0}}),n=e.form.fields,r=e.form;return Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r.toValidate()&&alert(JSON.stringify(r.toJSON()))},children:[Object(b.jsx)("h1",{children:" Simple Form "}),Object(b.jsx)(p,Object(c.a)(Object(c.a)({label:"name"},n.name.fieldProps),{},{error:n.name.error})),Object(b.jsx)(x,{type:"submit",children:" submit"})]})},g=function(e){return"John"===e?"John already exist":null},k=function(e){return"Smith"===e?"Smith already exist":null},N=function(){var e=j({firstName:{value:"John",validations:[g]},lastName:{validations:[k]},email:{type:"email",required:!0,minLen:8},password:{type:"password",required:!0,minLen:8}}),n=e.form.fields,r=e.form;return Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r.toValidate()&&console.log(r.toJSON())},children:[Object(b.jsx)("h1",{children:" Validation Form "}),Object(b.jsx)(p,Object(c.a)(Object(c.a)({label:"firstName"},n.firstName.fieldProps),{},{error:n.firstName.error})),Object(b.jsx)(p,Object(c.a)(Object(c.a)({label:"lastName"},n.lastName.fieldProps),{},{error:n.lastName.error})),Object(b.jsx)(p,Object(c.a)(Object(c.a)({label:"email"},n.email.fieldProps),{},{error:n.email.error})),Object(b.jsx)(p,Object(c.a)(Object(c.a)({label:"password"},n.password.fieldProps),{},{error:n.password.error})),Object(b.jsx)(x,{type:"submit",children:" submit"})]})},C=function(){return Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{children:"use-form-fields"}),Object(b.jsx)(a.b,{to:"/simple-form",children:"simple form"}),Object(b.jsx)(a.b,{to:"/validation-form",children:"validation form"})]})},P=function(){return Object(b.jsxs)(l.c,{children:[Object(b.jsx)(l.a,{path:"/simple-form",component:y}),Object(b.jsx)(l.a,{path:"/validation-form",component:N}),Object(b.jsx)(l.a,{path:"/",component:C})]})};r(34);var V=function(){return Object(b.jsx)(a.a,{basename:"/use-form-fields",children:Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(P,{})})})},q=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,36)).then((function(n){var r=n.getCLS,t=n.getFID,i=n.getFCP,o=n.getLCP,a=n.getTTFB;r(e),t(e),i(e),o(e),a(e)}))};o.a.render(Object(b.jsx)(V,{}),document.getElementById("root")),q()}},[[35,1,2]]]);
//# sourceMappingURL=main.ef4a5fb5.chunk.js.map